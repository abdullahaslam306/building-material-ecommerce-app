<%- include("./header.ejs") %>
<ul class="list-inline menu-left mb-0">
    <li class="list-inline-item">
        <button type="button" class="button-menu-mobile open-left waves-effect">
            <i class="ion-navicon"></i>
        </button>
    </li>
    <li class="hide-phone list-inline-item app-search">
        <h3 class="page-title">Manage Users</h3>
    </li>
</ul>

<div class="clearfix"></div>

</nav>

</div>
                    <div class="page-content-wrapper ">

                        <div class="container-fluid">
                           
                            <div class="row">
                            
                                <div class="col-md-10"></div>
                                <div class="col-md-2">
                                    <a href="/admin/user/create"> <button type="button" class="btn btn-dark btn-block"><i class="fa fa-plus"></i>Create User</button></a>
                                 </div>
                                </div>
                                <br>  
                            <div class="row" >
                                <div class="col-md-4">
                                
                                  </div>
                                <div class="col-md-4"></div>
                                <div class="col-md-4">
                                    <input type="text" id="myInput"  onkeyup="myFunction()" class="form-control" placeholder="Search ...">
                                </div>
                            </div>

                           
                                <div class="table-rep-plugin mt-4">
                                    <div class="table-responsive b-0" data-pattern="priority-columns">
                                        <table id="myTable1" class="table  table-striped" style="margin-left:auto; margin-right:auto">
                                            <thead>
                                            <tr>
                                                
                                                <th data-priority="1">Name</th>
                                                <th data-priority="2">email</th>
                                                <th data-priority="3">Role</th>
                                                <th data-priority="4">Created At</th>
                                                <th>Action</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                                <% users.forEach(function(user) { %> 
                                            <tr>
                                               
                                                <td><%= user.name %></td>
                                                <td><%= user.email %></td>
                                                <td><%= user.user_role.name %></td>
                                                <td><%= user.createdAt %></td>
                                                <td>
                                                  
                                                 
                                                    <a class="btn btn-primary" href="/admin/user/edit/<%= user.id%>"><i class="fa fa-edit"></i></a>
                                                    <a class="btn btn-primary" href="/admin/user/delete/<%= user.id%>"><i class="fa fa-trash"></i></a>
                                                </td>
                                            </tr>
                                            <% }) %> 
                                         
                                          
                                            
                                            </tbody>
                                        </table>
                                        
                                    </div>

                                </div>
                                
                            

                               
                            

                  
                        </div><!-- container-fluid -->


                    </div>
                    <script>
                        function myFunction() {
                          // Declare variables
                          var input, filter, table, tr, td, i, txtValue;
                          input = document.getElementById("myInput");
                          filter = input.value.toUpperCase();
                          table = document.getElementById("myTable1");
                          tr = table.getElementsByTagName("tr");
                        
                          // Loop through all table rows, and hide those who don't match the search query
                          for (i = 0; i < tr.length; i++) {
                            td = tr[i].getElementsByTagName("td")[0];
                            if (td) {
                              txtValue = td.textContent || td.innerText;
                              if (txtValue.toUpperCase().indexOf(filter) > -1) {
                                tr[i].style.display = "";
                              } else {
                                tr[i].style.display = "none";
                              }
                            }
                          }
                        }
                        </script>
<%- include("./footer.ejs") %>